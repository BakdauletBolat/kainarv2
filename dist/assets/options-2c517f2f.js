import{ax as S,aS as y,c as g,aU as L,cG as b,ck as h,b0 as P,dK as B,aC as x,bo as R,dL as I,dM as w,y as $,dN as q,a3 as D,ba as _}from"./index-5cc15e35.js";const H=S({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),T=Symbol.for("vuetify:data-table-pagination");function J(e){const t=y(e,"page",void 0,a=>+(a??1)),n=y(e,"itemsPerPage",void 0,a=>+(a??10));return{page:t,itemsPerPage:n}}function Q(e){const{page:t,itemsPerPage:n,itemsLength:a}=e,l=g(()=>n.value===-1?0:n.value*(t.value-1)),i=g(()=>n.value===-1?a.value:Math.min(a.value,l.value+n.value)),d=g(()=>n.value===-1||a.value===0?1:Math.ceil(a.value/n.value));L(()=>{t.value>d.value&&(t.value=d.value)});function r(v){n.value=v,t.value=1}function o(){t.value=P(t.value+1,1,d.value)}function u(){t.value=P(t.value-1,1,d.value)}function s(v){t.value=P(v,1,d.value)}const c={page:t,itemsPerPage:n,startIndex:l,stopIndex:i,pageCount:d,itemsLength:a,nextPage:o,prevPage:u,setPage:s,setItemsPerPage:r};return b(T,c),c}function X(){const e=h(T);if(!e)throw new Error("Missing pagination!");return e}function Y(e){const{items:t,startIndex:n,stopIndex:a,itemsPerPage:l}=e;return{paginatedItems:g(()=>l.value<=0?t.value:t.value.slice(n.value,a.value))}}const z={showSelectAll:!1,allSelected:()=>[],select:e=>{var a;let{items:t,value:n}=e;return new Set(n?[(a=t[0])==null?void 0:a.value]:[])},selectAll:e=>{let{selected:t}=e;return t}},E={showSelectAll:!0,allSelected:e=>{let{currentPage:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const l of t)n?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:t,currentPage:n,selected:a}=e;return E.select({items:n,value:t,selected:a})}},A={showSelectAll:!0,allSelected:e=>{let{allItems:t}=e;return t},select:e=>{let{items:t,value:n,selected:a}=e;for(const l of t)n?a.add(l.value):a.delete(l.value);return a},selectAll:e=>{let{value:t,allItems:n,selected:a}=e;return A.select({items:n,value:t,selected:a})}},Z=S({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]}},"DataTable-select"),O=Symbol.for("vuetify:data-table-selection");function ee(e,t){let{allItems:n,currentPage:a}=t;const l=y(e,"modelValue",e.modelValue,f=>new Set(f),f=>[...f.values()]),i=g(()=>n.value.filter(f=>f.selectable)),d=g(()=>a.value.filter(f=>f.selectable)),r=g(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return z;case"all":return A;case"page":default:return E}});function o(f){return B(f).every(p=>l.value.has(p.value))}function u(f){return B(f).some(p=>l.value.has(p.value))}function s(f,p){const K=r.value.select({items:f,value:p,selected:new Set(l.value)});l.value=K}function c(f){s([f],!o([f]))}function v(f){const p=r.value.selectAll({value:f,allItems:i.value,currentPage:d.value,selected:new Set(l.value)});l.value=p}const m=g(()=>l.value.size>0),j=g(()=>{const f=r.value.allSelected({allItems:i.value,currentPage:d.value});return o(f)}),k={toggleSelect:c,select:s,selectAll:v,isSelected:o,isSomeSelected:u,someSelected:m,allSelected:j,showSelectAll:r.value.showSelectAll};return b(O,k),k}function te(){const e=h(O);if(!e)throw new Error("Missing selection!");return e}const ae=S({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),G=Symbol.for("vuetify:data-table-sort");function ne(e){const t=y(e,"sortBy"),n=x(e,"mustSort"),a=x(e,"multiSort");return{sortBy:t,mustSort:n,multiSort:a}}function le(e){const{sortBy:t,mustSort:n,multiSort:a,page:l}=e,i=o=>{let u=t.value.map(c=>({...c}))??[];const s=u.find(c=>c.key===o.key);s?s.order==="desc"?n.value?s.order="asc":u=u.filter(c=>c.key!==o.key):s.order="desc":a.value?u=[...u,{key:o.key,order:"asc"}]:u=[{key:o.key,order:"asc"}],t.value=u,l&&(l.value=1)};function d(o){return!!t.value.find(u=>u.key===o.key)}const r={sortBy:t,toggleSort:i,isSorted:d};return b(G,r),r}function re(){const e=h(G);if(!e)throw new Error("Missing sort!");return e}function ue(e,t,n){const a=R();return{sortedItems:g(()=>n.value.length?F(t.value,n.value,a.current.value,e.customKeySort):t.value)}}function F(e,t,n,a){const l=new Intl.Collator(n,{sensitivity:"accent",usage:"sort"});return[...e].sort((i,d)=>{for(let r=0;r<t.length;r++){const o=t[r].key,u=t[r].order??"asc";if(u===!1)continue;let s=I(i.raw,o),c=I(d.raw,o);if(u==="desc"&&([s,c]=[c,s]),a!=null&&a[o]){const v=a[o](s,c);if(!v)continue;return v}if(s instanceof Date&&c instanceof Date)return s.getTime()-c.getTime();if([s,c]=[s,c].map(v=>v!=null?v.toString().toLocaleLowerCase():v),s!==c)return w(s)&&w(c)?0:w(s)?-1:w(c)?1:!isNaN(s)&&!isNaN(c)?Number(s)-Number(c):l.compare(s,c)}return 0})}const se=S({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),V=Symbol.for("vuetify:data-table-group");function oe(e){return{groupBy:y(e,"groupBy")}}function ce(e){const{groupBy:t,sortBy:n}=e,a=$(new Set),l=g(()=>t.value.map(u=>({...u,order:u.order??!1})).concat(n.value));function i(u){return a.value.has(u.id)}function d(u){const s=new Set(a.value);i(u)?s.delete(u.id):s.add(u.id),a.value=s}function r(u){function s(c){const v=[];for(const m of c.items)"type"in m&&m.type==="group"?v.push(...s(m)):v.push(m);return v}return s({type:"group",items:u,id:"dummy",key:"dummy",value:"dummy",depth:0})}const o={sortByWithGroups:l,toggleGroup:d,opened:a,groupBy:t,extractRows:r,isGroupOpen:i};return b(V,o),o}function ie(){const e=h(V);if(!e)throw new Error("Missing group!");return e}function U(e,t){if(!e.length)return[];const n=new Map;for(const a of e){const l=I(a.raw,t);n.has(l)||n.set(l,[]),n.get(l).push(a)}return n}function C(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!t.length)return[];const l=U(e,t[0]),i=[],d=t.slice(1);return l.forEach((r,o)=>{const u=t[0],s=`${a}_${u}_${o}`;i.push({depth:n,id:s,key:u,value:o,items:d.length?C(r,d,n+1,s):r,type:"group"})}),i}function M(e,t){const n=[];for(const a of e)"type"in a&&a.type==="group"?(a.value!=null&&n.push(a),(t.has(a.id)||a.value==null)&&n.push(...M(a.items,t))):n.push(a);return n}function de(e,t,n){return{flatItems:g(()=>{if(!t.value.length)return e.value;const l=C(e.value,t.value.map(i=>i.key));return M(l,n.value)})}}const fe=S({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),N=Symbol.for("vuetify:datatable:expanded");function ve(e){const t=x(e,"expandOnClick"),n=y(e,"expanded",e.expanded,r=>new Set(r),r=>[...r.values()]);function a(r,o){const u=new Set(n.value);o?u.add(r.value):u.delete(r.value),n.value=u}function l(r){return n.value.has(r.value)}function i(r){a(r,!l(r))}const d={expand:a,expanded:n,expandOnClick:t,isExpanded:l,toggleExpand:i};return b(N,d),d}function ge(){const e=h(N);if(!e)throw new Error("foo");return e}function pe(e){let{page:t,itemsPerPage:n,sortBy:a,groupBy:l,search:i}=e;const d=q("VDataTable"),r=g(()=>({page:t.value,itemsPerPage:n.value,sortBy:a.value,groupBy:l.value,search:i.value}));D(()=>i==null?void 0:i.value,()=>{t.value=1});let o=null;D(r,()=>{_(o,r.value)||(d.emit("update:options",r.value),o=r.value)},{deep:!0,immediate:!0})}export{re as a,te as b,ie as c,ge as d,se as e,Z as f,ae as g,H as h,oe as i,ne as j,J as k,ce as l,fe as m,ue as n,de as o,le as p,Q as q,Y as r,ee as s,ve as t,X as u,pe as v};
