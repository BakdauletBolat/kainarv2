import{u as we,a as Te,b as H,c as se,d as re,m as De,e as Ve,f as Ie,g as Ce,h as Fe,i as _e,j as $e,k as Be,p as Ge,l as Oe,n as Re,o as Ae,q as Ee,r as He,s as Ne,t as Le,v as je}from"./options-2c517f2f.js";import{ax as S,aA as O,bo as de,c as V,b as t,x as I,dD as Ue,ab as M,a$ as C,y as X,aU as Me,dE as Y,cG as ze,ck as qe,b6 as Z,dr as We,dt as Je,bA as Ke,aD as N,dz as Qe,F as G,q as Xe,l as ee,dF as Ye,J as ae,dG as B,aC as D,aB as Ze}from"./index-5cc15e35.js";import{V as ea}from"./VSelect-f3760063.js";import{V as z}from"./VCheckboxBtn-8be4ef26.js";import{m as aa,V as te}from"./VTable-3188c983.js";import{m as ta,u as la}from"./filter-14cd16c3.js";const ue=S({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),le=O()({name:"VDataTableFooter",props:ue(),setup(e,r){let{slots:l}=r;const{t:a}=de(),{page:n,pageCount:i,startIndex:s,stopIndex:f,itemsLength:o,itemsPerPage:b,setItemsPerPage:g}=we(),k=V(()=>e.itemsPerPageOptions.map(v=>({...v,title:a(v.title)})));return()=>{var v;return t("div",{class:"v-data-table-footer"},[(v=l.prepend)==null?void 0:v.call(l),t("div",{class:"v-data-table-footer__items-per-page"},[t("span",null,[a(e.itemsPerPageText)]),t(ea,{items:k.value,modelValue:b.value,"onUpdate:modelValue":x=>g(Number(x)),density:"compact",variant:"outlined","hide-details":!0},null)]),t("div",{class:"v-data-table-footer__info"},[t("div",null,[a(e.pageText,o.value?s.value+1:0,f.value,o.value)])]),t("div",{class:"v-data-table-footer__pagination"},[t(I,{icon:e.firstIcon,variant:"plain",onClick:()=>n.value=1,disabled:n.value===1,"aria-label":a(e.firstPageLabel)},null),t(I,{icon:e.prevIcon,variant:"plain",onClick:()=>n.value=Math.max(1,n.value-1),disabled:n.value===1,"aria-label":a(e.prevPageLabel)},null),e.showCurrentPage&&t("span",{key:"page",class:"v-data-table-footer__page"},[n.value]),t(I,{icon:e.nextIcon,variant:"plain",onClick:()=>n.value=Math.min(i.value,n.value+1),disabled:n.value===i.value,"aria-label":a(e.nextPageLabel)},null),t(I,{icon:e.lastIcon,variant:"plain",onClick:()=>n.value=i.value,disabled:n.value===i.value,"aria-label":a(e.lastPageLabel)},null)])])}}}),q=Ue({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,r)=>{let{slots:l,attrs:a}=r;const n=e.tag??"td";return t(n,M({class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:C(e.height),width:C(e.width),left:C(e.fixedOffset||null)}},a),{default:()=>{var i;return[(i=l.default)==null?void 0:i.call(l)]}})}),na=S({headers:{type:Array,default:()=>[]}},"DataTable-header"),ie=Symbol.for("vuetify:data-table-headers");function oa(e,r){const l=X([]),a=X([]);Me(()=>{var x,m,p;const i=e.headers.length?Array.isArray(e.headers[0])?e.headers:[e.headers]:[],s=i.flatMap((d,u)=>d.map(y=>({column:y,row:u}))),f=i.length,o={title:"",sortable:!1},b={...o,width:48};if((x=r==null?void 0:r.groupBy)!=null&&x.value.length){const d=s.findIndex(u=>{let{column:y}=u;return y.key==="data-table-group"});d<0?s.unshift({column:{...o,key:"data-table-group",title:"Group",rowspan:f},row:0}):s.splice(d,1,{column:{...o,...s[d].column},row:s[d].row})}if((m=r==null?void 0:r.showSelect)!=null&&m.value){const d=s.findIndex(u=>{let{column:y}=u;return y.key==="data-table-select"});d<0?s.unshift({column:{...b,key:"data-table-select",rowspan:f},row:0}):s.splice(d,1,{column:{...b,...s[d].column},row:s[d].row})}if((p=r==null?void 0:r.showExpand)!=null&&p.value){const d=s.findIndex(u=>{let{column:y}=u;return y.key==="data-table-expand"});d<0?s.push({column:{...b,key:"data-table-expand",rowspan:f},row:0}):s.splice(d,1,{column:{...b,...s[d].column},row:s[d].row})}const g=Y(f).map(()=>[]),k=Y(f).fill(0);s.forEach(d=>{let{column:u,row:y}=d,P=u.key;P==null&&(P="");for(let h=y;h<=y+(u.rowspan??1)-1;h++)g[h].push({...u,key:P,fixedOffset:k[h],sortable:u.sortable??!!u.key}),k[h]+=Number(u.width??0)}),g.forEach(d=>{for(let u=d.length;u--;u>=0)if(d[u].fixed){d[u].lastFixed=!0;return}});const v=new Set;l.value=g.map(d=>{const u=[];for(const y of d)v.has(y.key)||(v.add(y.key),u.push(y));return u}),a.value=g.at(-1)??[]});const n={headers:l,columns:a};return ze(ie,n),n}function L(){const e=qe(ie);if(!e)throw new Error("Missing headers!");return e}const ce=S({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Z,default:"$sortAsc"},sortDescIcon:{type:Z,default:"$sortDesc"},...We()},"VDataTableHeaders"),ne=O()({name:"VDataTableHeaders",props:ce(),setup(e,r){let{slots:l,emit:a}=r;const{toggleSort:n,sortBy:i,isSorted:s}=Te(),{someSelected:f,allSelected:o,selectAll:b,showSelectAll:g}=H(),{columns:k,headers:v}=L(),{loaderClasses:x}=Je(e),m=(h,c)=>{if(!(!e.sticky&&!h.fixed))return{position:"sticky",zIndex:h.fixed?4:e.sticky?3:void 0,left:h.fixed?C(h.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${c})`:void 0}};function p(h){const c=i.value.find(T=>T.key===h.key);return c?c.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:d,backgroundColorStyles:u}=Ke(e,"color"),y=V(()=>({headers:v.value,columns:k.value,toggleSort:n,isSorted:s,sortBy:i.value,someSelected:f.value,allSelected:o.value,selectAll:b,getSortIcon:p,getFixedStyles:m})),P=h=>{let{column:c,x:T,y:F}=h;const j=c.key==="data-table-select"||c.key==="data-table-expand";return t(q,{tag:"th",align:c.align,class:["v-data-table__th",{"v-data-table__th--sortable":c.sortable,"v-data-table__th--sorted":s(c)},x.value],style:{width:C(c.width),minWidth:C(c.width),...m(c,F)},colspan:c.colspan,rowspan:c.rowspan,onClick:c.sortable?()=>n(c):void 0,lastFixed:c.lastFixed,noPadding:j},{default:()=>{var E;const R=`column.${c.key}`,A={column:c,selectAll:b,isSorted:s,toggleSort:n,sortBy:i.value,someSelected:f.value,allSelected:o.value,getSortIcon:p};return l[R]?l[R](A):c.key==="data-table-select"?((E=l["column.data-table-select"])==null?void 0:E.call(l,A))??(g&&t(z,{modelValue:o.value,indeterminate:f.value&&!o.value,"onUpdate:modelValue":b},null)):t("div",{class:"v-data-table-header__content"},[t("span",null,[c.title]),c.sortable&&t(Xe,{key:"icon",class:"v-data-table-header__sort-icon",icon:p(c)},null),e.multiSort&&s(c)&&t("div",{key:"badge",class:["v-data-table-header__sort-badge",...d.value],style:u.value},[i.value.findIndex(_=>_.key===c.key)+1])])}})};N(()=>t(G,null,[l.headers?l.headers(y.value):v.value.map((h,c)=>t("tr",null,[h.map((T,F)=>t(P,{column:T,x:F,y:c},null))])),e.loading&&t("tr",{class:"v-data-table-progress"},[t("th",{colspan:k.value.length},[t(Qe,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:l.loader})])])]))}}),sa=S({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),ra=O()({name:"VDataTableGroupHeaderRow",props:sa(),setup(e,r){let{slots:l}=r;const{isGroupOpen:a,toggleGroup:n,extractRows:i}=se(),{isSelected:s,isSomeSelected:f,select:o}=H(),{columns:b}=L(),g=V(()=>i([e.item]));return()=>t("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[b.value.map(k=>{var v,x;if(k.key==="data-table-group"){const m=a(e.item)?"$expand":"$next",p=()=>n(e.item);return((v=l["data-table-group"])==null?void 0:v.call(l,{item:e.item,count:g.value.length,props:{icon:m,onClick:p}}))??t(q,{class:"v-data-table-group-header-row__column"},{default:()=>[t(I,{size:"small",variant:"text",icon:m,onClick:p},null),t("span",null,[e.item.value]),t("span",null,[ee("("),g.value.length,ee(")")])]})}if(k.key==="data-table-select"){const m=s(g.value),p=f(g.value)&&!m,d=u=>o(g.value,u);return((x=l["data-table-select"])==null?void 0:x.call(l,{props:{modelValue:m,indeterminate:p,"onUpdate:modelValue":d}}))??t("td",null,[t(z,{modelValue:m,indeterminate:p,"onUpdate:modelValue":d},null)])}return t("td",null,null)})])}}),da=S({index:Number,item:Object,onClick:Function},"VDataTableRow"),ua=Ye({name:"VDataTableRow",props:da(),setup(e,r){let{slots:l}=r;const{isSelected:a,toggleSelect:n}=H(),{isExpanded:i,toggleExpand:s}=re(),{columns:f}=L();N(()=>t("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!e.onClick}],onClick:e.onClick},[e.item&&f.value.map((o,b)=>t(q,{align:o.align,fixed:o.fixed,fixedOffset:o.fixedOffset,lastFixed:o.lastFixed,noPadding:o.key==="data-table-select"||o.key==="data-table-expand",width:o.width},{default:()=>{var x,m;const g=e.item,k=`item.${o.key}`,v={index:e.index,item:e.item,columns:f.value,isSelected:a,toggleSelect:n,isExpanded:i,toggleExpand:s};return l[k]?l[k](v):o.key==="data-table-select"?((x=l["item.data-table-select"])==null?void 0:x.call(l,v))??t(z,{disabled:!g.selectable,modelValue:a([g]),onClick:ae(()=>n(g),["stop"])},null):o.key==="data-table-expand"?((m=l["item.data-table-expand"])==null?void 0:m.call(l,v))??t(I,{icon:i(g)?"$collapse":"$expand",size:"small",variant:"text",onClick:ae(()=>s(g),["stop"])},null):B(g.columns,o.key)}}))]))}}),me=S({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowHeight:Number,"onClick:row":Function},"VDataTableRows"),oe=O()({name:"VDataTableRows",props:me(),setup(e,r){let{emit:l,slots:a}=r;const{columns:n}=L(),{expandOnClick:i,toggleExpand:s,isExpanded:f}=re(),{isSelected:o,toggleSelect:b}=H(),{toggleGroup:g,isGroupOpen:k}=se(),{t:v}=de();return N(()=>{var x;return e.loading&&a.loading?t("tr",{class:"v-data-table-rows-loading",key:"loading"},[t("td",{colspan:n.value.length},[a.loading()])]):!e.loading&&!e.items.length&&!e.hideNoData?t("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[t("td",{colspan:n.value.length},[((x=a["no-data"])==null?void 0:x.call(a))??v(e.noDataText)])]):t(G,null,[e.items.map((m,p)=>{var y;if(m.type==="group")return a["group-header"]?a["group-header"]({index:p,item:m,columns:n.value,isExpanded:f,toggleExpand:s,isSelected:o,toggleSelect:b,toggleGroup:g,isGroupOpen:k}):t(ra,{key:`group-header_${m.id}`,item:m},a);const d={index:p,item:m,columns:n.value,isExpanded:f,toggleExpand:s,isSelected:o,toggleSelect:b},u={...d,props:{key:`item_${m.key??m.index}`,onClick:i.value||e["onClick:row"]?P=>{var h;i.value&&s(m),(h=e["onClick:row"])==null||h.call(e,P,{item:m})}:void 0,index:p,item:m}};return t(G,null,[a.item?a.item(u):t(ua,u.props,a),f(m)&&((y=a["expanded-row"])==null?void 0:y.call(a,d))])})])}),{}}}),ia=S({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},returnObject:Boolean},"DataTable-items");function ca(e,r,l,a){const n=e.returnObject?r:B(r,e.itemValue),i=B(r,e.itemSelectable,!0),s=a.reduce((f,o)=>(f[o.key]=B(r,o.value??o.key),f),{});return{type:"item",key:e.returnObject?B(r,e.itemValue):n,index:l,value:n,selectable:i,columns:s,raw:r}}function ma(e,r,l){return r.map((a,n)=>ca(e,a,n,l))}function ga(e,r){return{items:V(()=>ma(e,e.items,r.value))}}const fa=S({...me(),width:[String,Number],search:String,...De(),...Ve(),...na(),...ia(),...Ie(),...Ce(),...ce(),...aa()},"DataTable"),va=S({...Fe(),...fa(),...ta(),...ue()},"VDataTable"),Pa=O()({name:"VDataTable",props:va(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,r){let{emit:l,slots:a}=r;const{groupBy:n}=_e(e),{sortBy:i,multiSort:s,mustSort:f}=$e(e),{page:o,itemsPerPage:b}=Be(e),{columns:g,headers:k}=oa(e,{groupBy:n,showSelect:D(e,"showSelect"),showExpand:D(e,"showExpand")}),{items:v}=ga(e,g),x=D(e,"search"),{filteredItems:m}=la(e,v,x,{transform:U=>U.columns}),{toggleSort:p}=Ge({sortBy:i,multiSort:s,mustSort:f,page:o}),{sortByWithGroups:d,opened:u,extractRows:y,isGroupOpen:P,toggleGroup:h}=Oe({groupBy:n,sortBy:i}),{sortedItems:c}=Re(e,m,d),{flatItems:T}=Ae(c,n,u),F=V(()=>T.value.length),{startIndex:j,stopIndex:R,pageCount:A,setItemsPerPage:E}=Ee({page:o,itemsPerPage:b,itemsLength:F}),{paginatedItems:_}=He({items:T,startIndex:j,stopIndex:R,itemsPerPage:b}),W=V(()=>y(_.value)),{isSelected:ge,select:fe,selectAll:ve,toggleSelect:be,someSelected:ye,allSelected:he}=Ne(e,{allItems:v,currentPage:W}),{isExpanded:xe,toggleExpand:pe}=Le(e);je({page:o,itemsPerPage:b,sortBy:i,groupBy:n,search:x}),Ze({VDataTableRows:{hideNoData:D(e,"hideNoData"),noDataText:D(e,"noDataText"),loading:D(e,"loading"),loadingText:D(e,"loadingText")}});const w=V(()=>({page:o.value,itemsPerPage:b.value,sortBy:i.value,pageCount:A.value,toggleSort:p,setItemsPerPage:E,someSelected:ye.value,allSelected:he.value,isSelected:ge,select:fe,selectAll:ve,toggleSelect:be,isExpanded:xe,toggleExpand:pe,isGroupOpen:P,toggleGroup:h,items:W.value,groupedItems:_.value,columns:g.value,headers:k.value}));return N(()=>{const[U]=le.filterProps(e),[ke]=ne.filterProps(e),[Pe]=oe.filterProps(e),[Se]=te.filterProps(e);return t(te,M({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},Se),{top:()=>{var $;return($=a.top)==null?void 0:$.call(a,w.value)},default:()=>{var $,J,K,Q;return a.default?a.default(w.value):t(G,null,[($=a.colgroup)==null?void 0:$.call(a,w.value),t("thead",null,[t(ne,ke,a)]),(J=a.thead)==null?void 0:J.call(a,w.value),t("tbody",null,[a.body?a.body(w.value):t(oe,M(Pe,{items:_.value}),a)]),(K=a.tbody)==null?void 0:K.call(a,w.value),(Q=a.tfoot)==null?void 0:Q.call(a,w.value)])},bottom:()=>a.bottom?a.bottom(w.value):t(G,null,[t(le,U,{prepend:a["footer.prepend"]})])})}),{}}});export{Pa as V,ne as a,oe as b,oa as c,ua as d,ue as e,le as f,fa as m,ga as u};
